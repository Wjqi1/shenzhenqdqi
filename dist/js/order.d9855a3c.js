(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"214f":function(t,e,s){"use strict";var r=s("32e9"),a=s("2aba"),i=s("79e5"),o=s("be13"),l=s("2b4c");t.exports=function(t,e,s){var n=l(t),c=s(o,n,""[t]),d=c[0],u=c[1];i(function(){var e={};return e[n]=function(){return 7},7!=""[t](e)})&&(a(String.prototype,t,d),r(RegExp.prototype,n,2==e?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)}))}},"28a5":function(t,e,s){s("214f")("split",2,function(t,e,r){"use strict";var a=s("aae3"),i=r,o=[].push,l="split",n="length",c="lastIndex";if("c"=="abbc"[l](/(b)*/)[1]||4!="test"[l](/(?:)/,-1)[n]||2!="ab"[l](/(?:ab)*/)[n]||4!="."[l](/(.?)(.?)/)[n]||"."[l](/()()/)[n]>1||""[l](/.?/)[n]){var d=void 0===/()??/.exec("")[1];r=function(t,e){var s=String(this);if(void 0===t&&0===e)return[];if(!a(t))return i.call(s,t,e);var r,l,u,p,v,m=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),_=0,g=void 0===e?4294967295:e>>>0,b=new RegExp(t.source,f+"g");d||(r=new RegExp("^"+b.source+"$(?!\\s)",f));while(l=b.exec(s)){if(u=l.index+l[0][n],u>_&&(m.push(s.slice(_,l.index)),!d&&l[n]>1&&l[0].replace(r,function(){for(v=1;v<arguments[n]-2;v++)void 0===arguments[v]&&(l[v]=void 0)}),l[n]>1&&l.index<s[n]&&o.apply(m,l.slice(1)),p=l[0][n],_=u,m[n]>=g))break;b[c]===l.index&&b[c]++}return _===s[n]?!p&&b.test("")||m.push(""):m.push(s.slice(_)),m[n]>g?m.slice(0,g):m}}else"0"[l](void 0,0)[n]&&(r=function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)});return[function(s,a){var i=t(this),o=void 0==s?void 0:s[e];return void 0!==o?o.call(s,i,a):r.call(String(i),s,a)},r]})},"8a8c":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._m(0),s("div",{staticClass:"section"},[s("div",{staticClass:"wrapper"},[s("div",{staticClass:"bg-wrap"},[t._m(1),s("div",{staticClass:"cart-box"},[t._m(2),s("div",{attrs:{id:"orderForm",name:"orderForm",url:""}},[s("div",{staticClass:"form-box address-info"},[s("el-form",{ref:"orderRef",attrs:{"status-icon":"",model:t.order,rules:t.rules,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"收货人姓名",prop:"accept_name"}},[s("el-input",{staticStyle:{width:"600px"},model:{value:t.order.accept_name,callback:function(e){t.$set(t.order,"accept_name",e)},expression:"order.accept_name"}})],1),s("el-form-item",{attrs:{label:"所属地区",prop:"area"}},[s("v-distpicker",{attrs:{province:t.order.area.province.value,city:t.order.area.city.value,area:t.order.area.area.value},on:{selected:t.onSelected}})],1),s("el-form-item",{attrs:{label:"详细地址",prop:"address"}},[s("el-input",{staticStyle:{width:"600px"},model:{value:t.order.address,callback:function(e){t.$set(t.order,"address",e)},expression:"order.address"}})],1),s("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[s("el-input",{staticStyle:{width:"600px"},model:{value:t.order.mobile,callback:function(e){t.$set(t.order,"mobile",e)},expression:"order.mobile"}})],1),s("el-form-item",{attrs:{label:"电子邮箱"}},[s("el-input",{staticStyle:{width:"600px"},model:{value:t.order.email,callback:function(e){t.$set(t.order,"email",e)},expression:"order.email"}})],1),s("el-form-item",{attrs:{label:"邮政编码"}},[s("el-input",{staticStyle:{width:"600px"},model:{value:t.order.post_code,callback:function(e){t.$set(t.order,"post_code",e)},expression:"order.post_code"}})],1)],1)],1),t._m(3),s("ul",{staticClass:"item-box clearfix"},[s("li",[s("label",[s("el-radio",{attrs:{label:"6"},model:{value:t.order.payment_id,callback:function(e){t.$set(t.order,"payment_id",e)},expression:"order.payment_id"}},[t._v("在线支付")]),s("em",[t._v("手续费：0.00元")])],1)])]),t._m(4),s("ul",{staticClass:"item-box clearfix"},[s("li",[s("label",[s("el-radio-group",{on:{change:t.expressChange},model:{value:t.order.express_id,callback:function(e){t.$set(t.order,"express_id",e)},expression:"order.express_id"}},[s("el-radio",{attrs:{label:"1"}},[t._v("顺丰快递"),s("em",[t._v("手续费：20.00元")])]),s("el-radio",{attrs:{label:"2"}},[t._v("圆通快递"),s("em",[t._v("手续费：12.00元")])]),s("el-radio",{attrs:{label:"3"}},[t._v("韵达快递"),s("em",[t._v("手续费：10.00元")])])],1)],1)])]),t._m(5),s("div",{staticClass:"line15"}),s("table",{staticClass:"cart-table",attrs:{width:"100%",border:"0",align:"center",cellpadding:"8",cellspacing:"0"}},[s("tbody",[t._m(6),t._l(t.goodsList,function(e){return s("tr",{key:e.id},[s("td",{attrs:{width:"68"}},[s("a",{attrs:{target:"_blank",href:"/goods/show-89.html"}},[s("img",{staticClass:"img",attrs:{src:e.img_url}})])]),s("td",[s("a",{attrs:{target:"_blank",href:"/goods/show-89.html"}},[t._v(t._s(e.title))])]),s("td",[s("span",{staticClass:"red"},[t._v("\n                                            ￥"+t._s(e.sell_price)+"\n                                        ")])]),s("td",{attrs:{align:"center"}},[t._v(t._s(e.buycount))]),s("td",[s("span",{staticClass:"red"},[t._v("\n                                            ￥"+t._s(e.sell_price*e.buycount)+"\n                                        ")])])])})],2)]),s("div",{staticClass:"line15"}),t._m(7),s("div",{staticClass:"buy-foot clearfix"},[s("div",{staticClass:"left-box"},[s("dl",[s("dt",[t._v("订单备注(100字符以内)")]),s("dd",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.order.message,expression:"order.message"}],staticClass:"input",staticStyle:{height:"35px"},attrs:{name:"message"},domProps:{value:t.order.message},on:{input:function(e){e.target.composing||t.$set(t.order,"message",e.target.value)}}})])])]),s("div",{staticClass:"right-box"},[s("p",[t._v("\n                                    商品\n                                    "),s("label",{staticClass:"price"},[t._v(t._s(t.totalCount))]),t._v(" 件     商品金额：￥\n                                    "),s("label",{staticClass:"price",attrs:{id:"goodsAmount"}},[t._v(t._s(t.totalAmount))]),t._v(" 元    \n                                ")]),s("p",[t._v("\n                                    运费：￥\n                                    "),s("label",{staticClass:"price",attrs:{id:"expressFee"}},[t._v(t._s(t.order.expressMoment))]),t._v(" 元\n                                ")]),s("p",{staticClass:"txt-box"},[t._v("\n                                    应付总金额：￥\n                                    "),s("label",{staticClass:"price",attrs:{id:"totalAmount"}},[t._v(t._s(t.order.expressMoment+t.totalAmount))])]),s("p",{staticClass:"btn-box"},[s("a",{staticClass:"btn button",on:{click:t.goBack}},[t._v("返回购物车")]),s("a",{staticClass:"btn submit",attrs:{id:"btnSubmit"},on:{click:t.goToOrder}},[t._v("确认提交")])])])])])])])])])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"section"},[s("div",{staticClass:"location"},[s("span",[t._v("当前位置：")]),s("a",{attrs:{href:"/index.html"}},[t._v("首页")]),t._v(" >\n            "),s("a",{attrs:{href:"/cart.html"}},[t._v("购物车")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cart-head clearfix"},[s("h2",[s("i",{staticClass:"iconfont icon-cart"}),t._v("我的购物车")]),s("div",{staticClass:"cart-setp"},[s("ul",[s("li",{staticClass:"first active"},[s("div",{staticClass:"progress"},[s("span",[t._v("1")]),t._v(" 放进购物车\n                                ")])]),s("li",{staticClass:"active"},[s("div",{staticClass:"progress"},[s("span",[t._v("2")]),t._v(" 填写订单信息\n                                ")])]),s("li",{staticClass:"last"},[s("div",{staticClass:"progress"},[s("span",[t._v("3")]),t._v(" 支付/确认订单\n                                ")])])])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"slide-tit"},[s("span",[t._v("1、收货地址")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"slide-tit"},[s("span",[t._v("2、支付方式")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"slide-tit"},[s("span",[t._v("3、配送方式")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"slide-tit"},[s("span",[t._v("4、商品清单")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",{attrs:{colspan:"2",align:"left"}},[t._v("商品信息")]),s("th",{attrs:{width:"84",align:"left"}},[t._v("单价")]),s("th",{attrs:{width:"84",align:"center"}},[t._v("购买数量")]),s("th",{attrs:{width:"104",align:"left"}},[t._v("金额(元)")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h2",{staticClass:"slide-tit"},[s("span",[t._v("5、结算信息")])])}],i=(s("28a5"),s("ac6a"),s("2b2e")),o=s.n(i),l=s("7adc"),n={components:{VDistpicker:o.a},data:function(){var t=function(t,e,s){if(!e)return s(new Error("手机号码不能为空!"));/^1[3,4,5,6,7,8][0-9]{9}$/.test(e)?s():s(new Error("手机号不合法!"))};return{goodsList:[],totalAmount:0,totalCount:0,order:{accept_name:"王大山",area:{province:{code:"440000",value:"广东省"},city:{code:"440300",value:"深圳市"},area:{code:"440305",value:"南山区"}},address:"福永",mobile:"13567890422",email:"1224",post_code:"1234",payment_id:"6",express_id:"1",expressMoment:20,message:"请快点发货"},rules:{accept_name:[{required:!0,message:"请输入收货人姓名",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],address:[{required:!0,message:"请输入收货人姓名",trigger:"blur"}],mobile:[{required:!0,validator:t,trigger:"blur"}],area:[{required:!0,trigger:"blur"}]}}},created:function(){this.getgoodsList()},methods:{onSelected:function(t){this.order.area=t},expressChange:function(t){switch(t){case"1":this.order.expressMoment=20;break;case"2":this.order.expressMoment=12;break;case"3":this.order.expressMoment=10;break}},getgoodsList:function(){var t=this,e="site/validate/order/getgoodslist/".concat(this.$route.query.ids),s=Object(l["c"])();this.order.goodsids=this.$route.query.ids;var r={};this.$axios.get(e).then(function(e){e.data.message.forEach(function(e){e.buycount=s[e.id],t.totalCount+=e.buycount,t.totalAmount+=e.buycount*e.sell_price,r[e.id]=e.buycount}),t.goodsList=e.data.message,t.order.goodsAmount=t.totalAmount,t.order.cargoodsobj=r})},goBack:function(){this.$router.go(-1)},goToOrder:function(){var t=this;this.$refs.orderRef.validate(function(e){if(e){var s="site/validate/order/setorder";t.$axios.post(s,t.order).then(function(e){t.$router.push({path:"/pay",query:{orderid:e.data.message.orderid}});var s=t.$route.query.ids.split(",");s.forEach(function(e){t.$store.commit("deleteGoods",e)})})}else alert("error submit")})}}},c=n,d=s("2877"),u=Object(d["a"])(c,r,a,!1,null,null,null);u.options.__file="order.vue";e["default"]=u.exports},aae3:function(t,e,s){var r=s("d3f4"),a=s("2d95"),i=s("2b4c")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==a(t))}},ac6a:function(t,e,s){for(var r=s("cadf"),a=s("0d58"),i=s("2aba"),o=s("7726"),l=s("32e9"),n=s("84f2"),c=s("2b4c"),d=c("iterator"),u=c("toStringTag"),p=n.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=a(v),f=0;f<m.length;f++){var _,g=m[f],b=v[g],h=o[g],x=h&&h.prototype;if(x&&(x[d]||l(x,d,p),x[u]||l(x,u,g),n[g]=p,b))for(_ in r)x[_]||i(x,_,r[_],!0)}}}]);